{"version":3,"sources":["webpack:///./src/views/User/RoleList.vue?d6fc","webpack:///src/views/User/RoleList.vue","webpack:///./src/views/User/RoleList.vue?3f10","webpack:///./src/views/User/RoleList.vue","webpack:///./src/api/user.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","staticStyle","on","$event","modal","loading","getList","columns","data","searchParam","total","pageSize","pageNum","$set","model","value","callback","$$v","expression","ref","formItem","formRules","trim","saveOrUpdate","staticRenderFns","name","desc","remark","created","methods","page","$refs","validate","valid","edit","id","row","Object","keys","forEach","dele","resetFormItem","auth","$router","push","component","getUserList","params","request","url","method","saveUser","updateUser","deleteUser","setUserRoles","userId","roleIds","getRoleList","getAllRoleList","saveRole","updateRole","deleteRole","addResource","getResourceByRoleId","roleId","saveRoleResource"],"mappings":"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","file":"js/chunk-3669e8a6.8703fc5b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Card',{staticClass:\"userList \",attrs:{\"bordered\":false,\"dis-hover\":\"\"}},[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"系统角色列表\")]),_c('Row',{staticClass:\"mb10\",attrs:{\"type\":\"flex\",\"justify\":\"end\",\"align\":\"middle\"}},[_c('Col',{staticStyle:{\"flex\":\"1\"}},[_c('Button',{attrs:{\"type\":\"success\",\"icon\":\"md-add\"},on:{\"click\":function($event){_vm.modal = true}}},[_vm._v(\"新增角色\")])],1),_c('Col',[_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"ios-search\",\"loading\":_vm.loading},on:{\"click\":function($event){return _vm.getList(1)}}},[_vm._v(\"查询\")])],1)],1),_c('Table',{staticClass:\"mt20\",attrs:{\"columns\":_vm.columns,\"data\":_vm.data,\"loading\":_vm.loading,\"size\":\"small\"}}),_c('Row',{staticClass:\"mt10\",attrs:{\"type\":\"flex\",\"justify\":\"end\",\"align\":\"middle\"}},[_c('Page',{attrs:{\"total\":_vm.searchParam.total,\"page-size\":_vm.searchParam.pageSize,\"current\":_vm.searchParam.pageNum},on:{\"update:current\":function($event){return _vm.$set(_vm.searchParam, \"pageNum\", $event)},\"on-change\":_vm.getList}})],1),_c('Modal',{attrs:{\"title\":\"新增角色\"},model:{value:(_vm.modal),callback:function ($$v) {_vm.modal=$$v},expression:\"modal\"}},[_c('Form',{ref:\"form\",attrs:{\"model\":_vm.formItem,\"rules\":_vm.formRules,\"label-width\":80}},[_c('FormItem',{attrs:{\"label\":\"角色名\",\"prop\":\"name\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入角色名\"},model:{value:(_vm.formItem.name),callback:function ($$v) {_vm.$set(_vm.formItem, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formItem.name\"}})],1),_c('FormItem',{attrs:{\"label\":\"描述\",\"prop\":\"desc\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入描述\"},model:{value:(_vm.formItem.desc),callback:function ($$v) {_vm.$set(_vm.formItem, \"desc\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formItem.desc\"}})],1),_c('FormItem',{attrs:{\"label\":\"备注\",\"prop\":\"remark\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入备注\"},model:{value:(_vm.formItem.remark),callback:function ($$v) {_vm.$set(_vm.formItem, \"remark\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formItem.remark\"}})],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{on:{\"click\":function($event){_vm.modal = false}}},[_vm._v(\"取消\")]),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveOrUpdate}},[_vm._v(\"确定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Card class=\"userList \" :bordered=\"false\" dis-hover>\r\n    <p slot=\"title\">系统角色列表</p>\r\n\r\n    <Row type=\"flex\" justify=\"end\" align=\"middle\" class=\"mb10\">\r\n      <Col style=\"flex:1;\">\r\n        <Button type=\"success\" icon=\"md-add\" @click=\"modal = true\">新增角色</Button>\r\n      </Col>\r\n      <Col>\r\n        <Button type=\"primary\" icon=\"ios-search\" :loading=\"loading\" @click=\"getList(1)\">查询</Button>\r\n      </Col>\r\n    </Row>\r\n    <Table :columns=\"columns\" :data=\"data\" :loading=\"loading\" size=\"small\" class=\"mt20\"></Table>\r\n    <Row type=\"flex\" justify=\"end\" align=\"middle\" class=\"mt10\">\r\n      <Page :total=\"searchParam.total\"\r\n            :page-size=\"searchParam.pageSize\" :current.sync=\"searchParam.pageNum\"\r\n            @on-change=\"getList\"\r\n      > </Page>\r\n    </Row>\r\n\r\n    <Modal v-model=\"modal\" title=\"新增角色\">\r\n      <Form :model=\"formItem\" :rules=\"formRules\" ref=\"form\" :label-width=\"80\">\r\n        <FormItem label=\"角色名\" prop=\"name\">\r\n          <Input v-model.trim=\"formItem.name\" placeholder=\"请输入角色名\" />\r\n        </FormItem>\r\n        <FormItem label=\"描述\" prop=\"desc\">\r\n          <Input v-model.trim=\"formItem.desc\" placeholder=\"请输入描述\" />\r\n        </FormItem>\r\n        <FormItem label=\"备注\" prop=\"remark\">\r\n          <Input v-model.trim=\"formItem.remark\" placeholder=\"请输入备注\" />\r\n        </FormItem>\r\n      </Form>\r\n      <div slot=\"footer\">\r\n        <Button @click=\"modal = false\">取消</Button>\r\n        <Button type=\"primary\" @click=\"saveOrUpdate\">确定</Button>\r\n      </div>\r\n    </Modal>\r\n  </Card>\r\n</template>\r\n\r\n<script>\r\nimport { getRoleList as getList, saveRole as save, updateRole as update, deleteRole as dele } from '@/api/user'\r\n\r\nexport default {\r\n  name: 'UserList',\r\n  data () {\r\n    return {\r\n      modal: false,\r\n      loading: false,\r\n      searchParam: {\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        total: 0\r\n      },\r\n\r\n      columns: [\r\n        { title: 'ID', minWidth: 50, key: 'id' },\r\n        { title: '角色', minWidth: 120, key: 'name' },\r\n        { title: '描述', minWidth: 100, key: 'desc' },\r\n        { title: '备注', minWidth: 100, key: 'remark' },\r\n        {\r\n          title: '操作',\r\n          key: 'action',\r\n          width: 180,\r\n          fixed: 'right',\r\n          render: (h, { row }) => {\r\n            return h('div', row.name === 'admin' ? '' : [\r\n              h('Button', { props: { type: 'info', size: 'small' }, style: { marginRight: '5px' }, on: { click: () => this.edit(row) } }, '编辑'),\r\n              h('Button', { props: { type: 'success', size: 'small' }, style: { marginRight: '5px' }, on: { click: () => this.auth(row) } }, '授权'),\r\n              h(\r\n                'Poptip',\r\n                {\r\n                  props: { transfer: true, confirm: true, title: '你确定删除此角色？' },\r\n                  on: { 'on-ok': () => this.dele(row) }\r\n                },\r\n                [ h('Button', { props: { type: 'error', size: 'small' } }, '删除') ]\r\n              )\r\n            ])\r\n          }\r\n        }\r\n      ],\r\n      data: [],\r\n\r\n      formItem: {\r\n        name: '',\r\n        desc: '',\r\n        remark: ''\r\n      },\r\n      formRules: {\r\n        name: [{ required: true, trigger: 'blur', message: '角色名不能为空' }]\r\n      }\r\n    }\r\n  },\r\n\r\n  created () {\r\n    // this.getList()\r\n  },\r\n\r\n  methods: {\r\n\r\n    // 获取列表\r\n    getList (page) {\r\n      this.searchParam.pageNum = page || this.searchParam.pageNum\r\n\r\n      this.loading = true\r\n      getList(this.searchParam).then(data => {\r\n        this.data = data.list\r\n        this.searchParam.total = data.total\r\n        this.loading = false\r\n      }).catch(e => {\r\n        this.loading = false\r\n      })\r\n    },\r\n\r\n    // 新增 或 编辑 系统角色\r\n    saveOrUpdate () {\r\n      this.$refs['form'].validate(valid => {\r\n        if (!valid) {\r\n          this.$Message.error('请检查表单填写')\r\n          return\r\n        }\r\n        if (!this.formItem.id) {\r\n          save(this.formItem).then(data => {\r\n            this.getList()\r\n            this.modal = false\r\n            this.resetFormItem()\r\n          })\r\n        } else {\r\n          update(this.formItem.id, this.formItem).then(data => {\r\n            this.getList()\r\n            this.modal = false\r\n            this.resetFormItem()\r\n          })\r\n        }\r\n      })\r\n    },\r\n\r\n    // 编辑系统用户\r\n    edit (row) {\r\n      this.formItem.id = row.id\r\n      Object.keys(this.formItem).forEach(key => {\r\n        this.formItem[key] = row[key]\r\n      })\r\n\r\n      this.modal = true\r\n    },\r\n\r\n    // 删除系统用户\r\n    dele ({ id }) {\r\n      dele(id).then(data => this.getList())\r\n    },\r\n\r\n    // 重置 表单\r\n    resetFormItem () {\r\n      delete this.formItem.id\r\n      Object.keys(this.formItem).forEach(key => {\r\n        this.formItem[key] = ''\r\n      })\r\n    },\r\n\r\n    // 给角色授权资源\r\n    auth (row) {\r\n      this.$router.push({ name: 'RoleResource', params: row })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoleList.vue?vue&type=template&id=752a7463&\"\nimport script from \"./RoleList.vue?vue&type=script&lang=js&\"\nexport * from \"./RoleList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import request from '@/common/request'\r\n\r\n/**\r\n * GET /user/selectuserbychoose 用户信息模糊查询\r\n */\r\nexport function selectuserbychoose (nickname, phone, pageNum, pageSize) {\r\n  return request({\r\n    url: '/user/selectuserbychoose',\r\n    method: 'get',\r\n    params: {\r\n      nickname,\r\n      phone,\r\n      pageNum,\r\n      pageSize\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * GET /user/noticeUserUploadVoice 通知用户上传遇音\r\n */\r\nexport function noticeUserUploadVoice (mobile, platform, sex) {\r\n  return request({\r\n    url: '/user/noticeUserUploadVoice',\r\n    method: 'get',\r\n    params: {\r\n      mobile, platform, sex\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * GET /user/wakeUpBymobile 通知用户上传遇音\r\n */\r\nexport function wakeUpBymobile (mobile, coin) {\r\n  return request({\r\n    url: '/user/wakeUpBymobile',\r\n    method: 'get',\r\n    params: {\r\n      mobile, coin\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * GET /user/selectAllproportion 用户的分成比例列表查询\r\n */\r\nexport function selectAllproportion (mobile, pageNum, pageSize) {\r\n  return request({\r\n    url: '/user/selectAllproportion',\r\n    method: 'get',\r\n    params: {\r\n      mobile,\r\n      pageNum,\r\n      pageSize\r\n    }\r\n  })\r\n}\r\n/**\r\n * GET /user/UpdateUserproportion 修改用户的分成比例\r\n */\r\nexport function UpdateUserproportion (params) {\r\n  return request({\r\n    url: '/user/UpdateUserproportion',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n/**\r\n * GET /user/selectUserLabelAll 查询用户标签\r\n */\r\nexport function selectUserLabelAll (nickname, pageNum, pageSize) {\r\n  return request({\r\n    url: '/user/selectUserLabelAll',\r\n    method: 'get',\r\n    params: {\r\n      nickname,\r\n      pageNum,\r\n      pageSize\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * GET /user/deleteUserLabelByid 删除用户标签\r\n */\r\nexport function deleteUserLabelByid (id) {\r\n  return request({\r\n    url: '/user/deleteUserLabelByid',\r\n    method: 'get',\r\n    params: {\r\n      id\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * GET /user/addUserLabel 新增用户标签\r\n */\r\nexport function addUserLabel (params) {\r\n  return request({\r\n    url: '/user/addUserLabel',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n/** *************************** 权限管理 ***************************/\r\n\r\n/** ************* 用户管理 ******************/\r\n/**\r\n * GET /users/getUserList 获取系统用户列表\r\n */\r\nexport function getUserList (params) {\r\n  return request({\r\n    url: '/users',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n/**\r\n * POST /users/ 保存用户\r\n */\r\nexport function saveUser (data) {\r\n  return request({\r\n    url: '/users',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n/**\r\n * PUT /users/ 保存用户\r\n */\r\nexport function updateUser (id, data) {\r\n  return request({\r\n    url: `/users/${id}`,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n/**\r\n * DELETE /users/ 保存用户\r\n */\r\nexport function deleteUser (id) {\r\n  return request({\r\n    url: `/users/${id}`,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n/**\r\n * POST /users/ 保存用户角色\r\n */\r\nexport function setUserRoles (userId, roleIds) {\r\n  return request({\r\n    url: `/users/setUserRoles`,\r\n    method: 'post',\r\n    data: { userId, roleIds }\r\n  })\r\n}\r\n\r\n/** ************* 角色管理 ******************/\r\n/**\r\n * GET /roles/getRoleList 获取系统角色列表\r\n */\r\nexport function getRoleList (params) {\r\n  return request({\r\n    url: '/roles',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n/**\r\n * GET /roles/getRoleList 获取全部系统角色（无分页\r\n */\r\nexport function getAllRoleList () {\r\n  return request({\r\n    url: '/roles/getAllRoleList',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n/**\r\n * POST /roles/ 保存角色\r\n */\r\nexport function saveRole (data) {\r\n  return request({\r\n    url: '/roles',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n/**\r\n * PUT /roles/ 保存角色\r\n */\r\nexport function updateRole (id, data) {\r\n  return request({\r\n    url: `/roles/${id}`,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n/**\r\n * DELETE /roles/ 保存角色\r\n */\r\nexport function deleteRole (id) {\r\n  return request({\r\n    url: `/roles/${id}`,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\nexport function addResource (data) {\r\n  return request({\r\n    url: `/roles/addResource`,\r\n    method: 'post',\r\n    data: { data }\r\n  })\r\n}\r\n\r\n/**\r\n * 根据角色Id获取角色资源\r\n */\r\nexport function getResourceByRoleId (roleId) {\r\n  return request({\r\n    url: `/roles/getResourcesByRole/${roleId}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n/**\r\n * 根据角色Id存储角色资源\r\n */\r\nexport function saveRoleResource (roleId, data) {\r\n  return request({\r\n    url: `/roles/saveRoleResource/${roleId}`,\r\n    method: 'post',\r\n    data: { data }\r\n  })\r\n}\r\n"],"sourceRoot":""}